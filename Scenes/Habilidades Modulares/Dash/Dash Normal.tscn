[gd_scene load_steps=17 format=3 uid="uid://c2sirg4no04bb"]

[ext_resource type="Script" uid="uid://bnn4cdijx1ixg" path="res://Scripts/Jugador/Habilidades Modulares/Dash/Dash Normal/Dash.gd" id="1_ynpgg"]
[ext_resource type="Shader" uid="uid://bq45bc81yb4sr" path="res://Shader/Linea.tres" id="2_g52h7"]
[ext_resource type="Texture2D" uid="uid://bwy0wlcn0e62w" path="res://Sprites/Flecha.png" id="3_8y2wp"]
[ext_resource type="Shader" uid="uid://debvgkj4sm887" path="res://Shader/Viento Dash.tres" id="4_mndbs"]
[ext_resource type="Script" uid="uid://c76pnj52yjy3k" path="res://Scripts/Jugador/Habilidades Modulares/Dash/Dash Normal/Estado Dash.gd" id="5_o4aw0"]
[ext_resource type="PackedScene" uid="uid://bjx0val8vkyye" path="res://Scenes/Habilidades Modulares/Bullet Time.tscn" id="6_g52h7"]

[sub_resource type="Gradient" id="Gradient_rwvdt"]
interpolation_mode = 1
offsets = PackedFloat32Array(0, 0.6)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_wkmx2"]
frequency = 0.0016
fractal_type = 3
fractal_octaves = 1
fractal_ping_pong_strength = 0.495

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_omicx"]
bump_strength = 21.0
color_ramp = SubResource("Gradient_rwvdt")
noise = SubResource("FastNoiseLite_wkmx2")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lcsl6"]
shader = ExtResource("2_g52h7")
shader_parameter/Frente = ExtResource("3_8y2wp")
shader_parameter/Fondo = SubResource("NoiseTexture2D_omicx")

[sub_resource type="Gradient" id="Gradient_1cjf1"]

[sub_resource type="Gradient" id="Gradient_k46e4"]
interpolation_mode = 1
offsets = PackedFloat32Array(0, 0.329897)
colors = PackedColorArray(1, 1, 1, 0.615686, 0.933333, 0.933333, 0.933333, 0)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_rwvdt"]
noise_type = 0
frequency = 0.0118
fractal_octaves = 10
fractal_lacunarity = 4.1
fractal_gain = 0.82
domain_warp_enabled = true
domain_warp_fractal_gain = 4.21

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_wkmx2"]
width = 400
height = 1000
seamless = true
seamless_blend_skirt = 1.0
color_ramp = SubResource("Gradient_k46e4")
noise = SubResource("FastNoiseLite_rwvdt")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rwvdt"]
shader = ExtResource("4_mndbs")
shader_parameter/VientoTextura = SubResource("NoiseTexture2D_wkmx2")
shader_parameter/Reduccion = 0.37
shader_parameter/Alpha = 1.0

[sub_resource type="Curve" id="Curve_k46e4"]
bake_resolution = 1000
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.6), 0.0, 0.0, 0, 0]
point_count = 2

[node name="Dash" type="Node2D" node_paths=PackedStringArray("DashNode", "BulletTime")]
script = ExtResource("1_ynpgg")
DashNode = NodePath("State Dash")
BulletTime = NodePath("Bullet Time")
TiempoDeRecarga = 1.0
TiempoDeDash = 0.5
distancia_maxima = 130.0
Velocidad = 1500.0
MultFrenado = 0.3
factor_aceleracion = 0.2

[node name="Line2D" type="Line2D" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_lcsl6")
points = PackedVector2Array(0, 0, 0, 0)
width = 25.0
gradient = SubResource("Gradient_1cjf1")
texture_mode = 1
end_cap_mode = 2
round_precision = 5

[node name="Line2D2" type="Line2D" parent="."]
material = SubResource("ShaderMaterial_rwvdt")
points = PackedVector2Array(0, 0, 0, 0)
width = 150.0
width_curve = SubResource("Curve_k46e4")
texture_mode = 2

[node name="State Dash" type="Node" parent="."]
script = ExtResource("5_o4aw0")
PhysicsStates = Dictionary[String, NodePath]({
"Dash": NodePath("."),
"SinDash": NodePath(".")
})
metadata/_custom_type_script = "uid://ci1ayib00djei"

[node name="Bullet Time" parent="." instance=ExtResource("6_g52h7")]
bullet_time_active = true
bullet_time_sec = 2.0
cooldown = 1.0
scale_timer = 0.3
active_for_input = true

[node name="Timer Dash" type="Timer" parent="."]
wait_time = 0.5
one_shot = true

[node name="Timer Recarga" type="Timer" parent="."]
one_shot = true
